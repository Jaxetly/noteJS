/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{"use strict";var t=function(t,e){var n=t.notes;n=n.filter((function(t){return t.title!==e.title||t.content!==e.content})),t.notes=n},e=function(t){localStorage.setItem("notes",JSON.stringify(t))};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var r={noMore:!1,useDirtyCheck:!1,preserveExistingSetters:!1},o=[],i=[],a=[],c=!1;try{c=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(t){}var l=function(t){return t&&"[object Function]"=={}.toString.call(t)},u=function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=function(t){return"[object Object]"==={}.toString.apply(t)},f=function(t,e){var n=[],r=[];if("string"!=typeof t&&"string"!=typeof e){if(u(t)&&e)for(var o=0;o<t.length;o++)void 0===e[o]&&n.push(o);else for(var o in t)t.hasOwnProperty(o)&&e&&!e.hasOwnProperty(o)&&n.push(o);if(u(e)&&t)for(var i=0;i<e.length;i++)void 0===t[i]&&r.push(i);else for(var i in e)e.hasOwnProperty(i)&&t&&!t.hasOwnProperty(i)&&r.push(i)}return{added:n,removed:r}},h=function(t){if(null==t||"object"!=n(t))return t;var e=t.constructor();for(var r in t)e[r]=t[r];return e},p=function(t,e,n){try{Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!1,value:n})}catch(r){t[e]=n}},d=function(t,e,n){i[i.length]={prop:e,object:t,orig:h(t[e]),callback:n}},v=function(t,e,n,r){if("string"!=typeof t&&(t instanceof Object||u(t))){if(u(t)){if(S(t,"__watchall__",e,n),void 0===n||n>0)for(var o=0;o<t.length;o++)v(t[o],e,n,r)}else{var i=[];for(o in t)"$val"==o||!c&&"watchers"===o||Object.prototype.hasOwnProperty.call(t,o)&&i.push(o);y(t,i,e,n,r)}r&&B(t,"$$watchlengthsubjectroot",e,n)}},y=function(t,e,n,r,o){if("string"!=typeof t&&(t instanceof Object||u(t)))for(var i=0;i<e.length;i++){var a=e[i];g(t,a,n,r,o)}},g=function(t,e,n,r,o){"string"!=typeof t&&(t instanceof Object||u(t))&&(l(t[e])||(null!=t[e]&&(void 0===r||r>0)&&v(t[e],n,void 0!==r?r-1:r),S(t,e,n,r),o&&(void 0===r||r>0)&&B(t,e,n,r)))},m=function(t,e){if(!(t instanceof String)&&(t instanceof Object||u(t)))if(u(t)){for(var n=["__watchall__"],r=0;r<t.length;r++)n.push(r);w(t,n,e)}else{var o=function(t){var n=[];for(var r in t)t.hasOwnProperty(r)&&(t[r]instanceof Object?o(t[r]):n.push(r));w(t,n,e)};o(t)}},w=function(t,e,n){for(var r in e)e.hasOwnProperty(r)&&T(t,e[r],n)},b=[],_=null;function j(){_=null;for(var t=0;t<b.length;t++)b[t]();b.length=0}var E=function(){return _||(_=setTimeout(j)),_},L=function(t){null==_&&E(),b[b.length]=t},O=function(t,e,n,r){var o=null,i=-1,a=u(t);v(t,(function(n,r,c,l){var u=E();if(i!==u&&(i=u,(o={type:"update"}).value=t,o.splices=null,L((function(){e.call(this,o),o=null}))),a&&t===this&&null!==o){if("pop"===r||"shift"===r)c=[],l=[l];else if("push"===r||"unshift"===r)c=[c],l=[];else if("splice"!==r)return;o.splices||(o.splices=[]),o.splices[o.splices.length]={index:n,deleteCount:l?l.length:0,addedCount:c?c.length:0,added:c,deleted:l}}}),1==n?void 0:0,r)},x=function(t,e,n,r,o){t&&e&&(g(t,e,(function(t,e,i,a){var c={type:"update"};c.value=i,c.oldvalue=a,(r&&s(i)||u(i))&&O(i,n,r,o),n.call(this,c)}),0),(r&&s(t[e])||u(t[e]))&&O(t[e],n,r,o))},S=function(t,e,n,o){var i=!1,a=u(t);t.watchers||(p(t,"watchers",{}),a&&P(t,(function(n,r,i,a){if(H(t,n,r,i,a),0!==o&&i&&(s(i)||u(i))){var c,l,f,h,p=t.watchers[e];for((h=t.watchers.__watchall__)&&(p=p?p.concat(h):h),f=p?p.length:0,c=0;c<f;c++)if("splice"!==r)v(i,p[c],void 0===o?o:o-1);else for(l=0;l<i.length;l++)v(i[l],p[c],void 0===o?o:o-1)}}))),t.watchers[e]||(t.watchers[e]=[],a||(i=!0));for(var c=0;c<t.watchers[e].length;c++)if(t.watchers[e][c]===n)return;if(t.watchers[e].push(n),i){var l=t[e],f=function(n,i){var a=l;if(l=n,0!==o&&t[e]&&(s(t[e])||u(t[e]))&&!t[e].watchers){var c,f=t.watchers[e].length;for(c=0;c<f;c++)v(t[e],t.watchers[e][c],void 0===o?o:o-1)}C(t,e)?M(t,e):r.noMore||(t[e]instanceof Date&&a&&n&&(a=a.valueOf(),n=n.valueOf()),a!==n&&(i?H(t,e,"set",n,a):I(t,e,"set",n,a),r.noMore=!1))};r.useDirtyCheck?d(t,e,f):function(t,e,n,o){try{var i=function(t,e){if(r.preserveExistingSetters)return Object.getOwnPropertyDescriptor(t,e).set}(t,e);Object.defineProperty(t,e,{get:n,set:function(t){o.call(this,t,!0),i&&i(t)},enumerable:!0,configurable:!0})}catch(r){try{Object.prototype.__defineGetter__.call(t,e,n),Object.prototype.__defineSetter__.call(t,e,(function(t){o.call(this,t,!0)}))}catch(n){d(t,e,o)}}}(t,e,(function(){return l}),f)}},I=function(t,e,n,r,o){if(void 0!==e){var i,a,c=t.watchers[e];(a=t.watchers.__watchall__)&&(c=c?c.concat(a):a),i=c?c.length:0;for(var l=0;l<i;l++)c[l].call(t,e,n,r,o)}else for(var e in t)t.hasOwnProperty(e)&&I(t,e,n,r,o)},k=["pop","push","reverse","shift","sort","slice","unshift","splice"],N=function(t,e,n,r){p(t,n,(function(){var o,i,a,c,l=0;if("splice"===n){var u=arguments[0],s=u+arguments[1];for(a=t.slice(u,s),i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];l=u}else i=arguments.length>0?arguments[0]:void 0;return c=e.apply(t,arguments),"slice"!==n&&("pop"===n?(a=c,l=t.length):"push"===n?l=t.length-1:"shift"===n?a=c:"unshift"!==n&&void 0===i&&(i=c),r.call(t,l,n,i,a)),c}))},P=function(t,e){if(l(e)&&t&&!(t instanceof String)&&u(t))for(var n,r=k.length;r--;)N(t,t[n=k[r]],n,e)},T=function(t,e,n){if(e){if(t.watchers&&t.watchers[e])if(void 0===n)delete t.watchers[e];else for(var r=0;r<t.watchers[e].length;r++)t.watchers[e][r]==n&&t.watchers[e].splice(r,1)}else delete t.watchers;D(t,e,n),A(t,e)},C=function(t,e){return t.watchers&&(t.watchers.__wjs_suspend__||t.watchers["__wjs_suspend__"+e])},M=function(t,e){L((function(){delete t.watchers.__wjs_suspend__,delete t.watchers["__wjs_suspend__"+e]}))},G=null,H=function(t,e,n,r,o){a[a.length]={obj:t,prop:e,mode:n,newval:r,oldval:o},null===G&&(G=setTimeout(F))},F=function(){var t=null;G=null;for(var e=0;e<a.length;e++)t=a[e],I(t.obj,t.prop,t.mode,t.newval,t.oldval);t&&(a=[],t=null)},$=function(t,e){var n,r=!0;if(t!==e)if(s(t)){for(n in t)if((c||"watchers"!==n)&&t[n]!==e[n]){r=!1;break}}else r=!1;return r},B=function(t,e,n,r){var i;i=h("$$watchlengthsubjectroot"===e?t:t[e]),o.push({obj:t,prop:e,actual:i,watcher:n,level:r})},D=function(t,e,n){for(var r=0;r<o.length;r++){var i=o[r];i.obj==t&&(e&&i.prop!=e||n&&i.watcher!=n||o.splice(r--,1))}},A=function(t,e){for(var n=0;n<i.length;n++){var r=i[n],o=r.object.watchers;r.object==t&&(!e||r.prop==e)&&o&&(!e||!o[e]||0==o[e].length)&&i.splice(n--,1)}};setInterval((function(){for(var t=0;t<o.length;t++){var e=o[t];if("$$watchlengthsubjectroot"===e.prop)((n=f(e.obj,e.actual)).added.length||n.removed.length)&&(n.added.length&&y(e.obj,n.added,e.watcher,e.level-1,!0),e.watcher.call(e.obj,"root","differentattr",n,e.actual)),e.actual=h(e.obj);else{var n;if((n=f(e.obj[e.prop],e.actual)).added.length||n.removed.length){if(n.added.length)for(var r=0;r<e.obj.watchers[e.prop].length;r++)y(e.obj[e.prop],n.added,e.obj.watchers[e.prop][r],e.level-1,!0);I(e.obj,e.prop,"differentattr",n,e.actual)}e.actual=h(e.obj[e.prop])}}var a,c;if(i.length>0)for(t=0;t<i.length;t++)c=(a=i[t]).object[a.prop],$(a.orig,c)||(a.orig=h(c),a.callback(c))}),50),r.watch=function(){l(arguments[1])?v.apply(this,arguments):u(arguments[1])?y.apply(this,arguments):g.apply(this,arguments)},r.unwatch=function(){l(arguments[1])?m.apply(this,arguments):u(arguments[1])?w.apply(this,arguments):T.apply(this,arguments)},r.callWatchers=I,r.suspend=function(t,e){if(t.watchers){var n="__wjs_suspend__"+(void 0!==e?e:"");t.watchers[n]=!0}},r.onChange=function(){(l(arguments[2])?x:O).apply(this,arguments)};const J=r;J.watch;var q=function(e,n,r){var o=document.getElementById("notesContainer"),i=function(t,e){var n=document.createElement("div");n.className="pb-3";var r=document.createElement("h5");r.className="card-title font-weight-bold",r.innerText=t,n.appendChild(r);var o=document.createElement("pre");if(o.className="card-text m-0",e.length>150){o.innerHTML=e.substring(0,150)+"...";var i=function(t,e){var n=document.createElement("button");n.innerText="Развернуть",n.className="btn btn-link align-center ps-0";var r=!1;return n.addEventListener("click",(function(){r?(t.innerHTML=e.substring(0,150)+"...",n.innerText="Развернуть"):(t.innerHTML=e,n.innerText="Скрыть"),r=!r})),n}(o,e);n.appendChild(o),n.appendChild(i)}else o.innerHTML=e,n.appendChild(o);return n}(n,r),a=function(e,n,r){var o=document.createElement("div");o.className="d-flex row m-0";var i=document.createElement("button");i.className="btn btn-primary rounded-right-0 col-6",i.innerHTML='<i class="bi bi-pencil"></i>',o.appendChild(i),i.addEventListener("click",(function(){e.titleInput=n,e.noteInput=r,t(e,{title:n,content:r})}));var a=document.createElement("button");return a.className="btn btn-danger rounded-left-0 col-6",a.innerHTML='<i class="bi bi-trash"></i>',o.appendChild(a),a.addEventListener("click",(function(){confirm('Вы точно хотите удалить заметку "'.concat(n,'"?'))&&t(e,{title:n,content:r})})),o}(e,n,r),c=document.createElement("div");c.className="col-md-6 col-xl-4 mb-4";var l=document.createElement("div");l.className="card p-3 h-100 justify-content-between",l.appendChild(i),l.appendChild(a),c.appendChild(l),o.prepend(c)},Y=function(t){var e=document.getElementById("notesContainer");e.innerHTML="";var n=document.createElement("div");n.className="alert alert-danger col-12",n.textContent=t,e.appendChild(n)};function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function z(){z=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function g(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,j=_&&_(_(P([])));j&&j!==n&&r.call(j,a)&&(b=j);var E=w.prototype=g.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,c){var l=f(t[o],t,i);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==W(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=S(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function S(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(W(e)+" is not iterable")}return m.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},L(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(E),u(E,l,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function K(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}var Q,R=function(){var t,e=(t=z().mark((function t(e){var n;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Network error");case 5:return t.abrupt("return",n.json());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){K(i,r,o,a,c,"next",t)}function c(t){K(i,r,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),U=function(t){R(t.notes).then((function(t){console.log("Заметки успешно отправлены на сервер:",t)})).catch((function(t){Y("Ошибка при отправки заметок на сервер: ".concat(t)),console.log("Ошибка при отправки заметок на сервер:",t)}))},V=J.watch,X=J.watch;(function(t){var n=document.getElementById("noteForm"),r=document.getElementById("noteTitle"),o=document.getElementById("noteInput");n.addEventListener("submit",(function(n){n.preventDefault();var i=r.value,a=o.value;t.notes.push({title:i,content:a}),e(t.notes),q(t,i,a),U(t.notes),t.titleInput="",t.noteInput=""})),r.addEventListener("input",(function(){t.titleInput=r.value})),o.addEventListener("input",(function(){t.noteInput=o.value})),X(t,"titleInput",(function(){r.value=t.titleInput})),X(t,"noteInput",(function(){o.value=t.noteInput})),X(t,"notes",(function(){e(t.notes),U(t.notes),function(t){document.getElementById("notesContainer").innerHTML="",t.notes.forEach((function(e){q(t,e.title,e.content)}))}(t)}))})(Q={notes:[],theme:"light",titleInput:"",noteInput:""}),Q.notes=JSON.parse(localStorage.getItem("notes"))||[],function(t){R(t.notes).then((function(e){t.notes=JSON.parse(e.data),console.log("Заметки успешно получены с сервера:",e)})).catch((function(t){Y("Ошибка при получении заметок с сервера: ".concat(t)),console.log("Ошибка при получении заметок с сервера:",t)}))}(Q),function(t){var e=document.querySelector(".btn-light"),n=document.querySelector(".btn-dark");e.addEventListener("click",(function(){t.theme="light"})),n.addEventListener("click",(function(){t.theme="dark"})),V(t,"theme",(function(){var r;r=t.theme,localStorage.setItem("theme",r),document.documentElement.setAttribute("data-bs-theme",t.theme),"light"===t.theme?(e.classList.add("hide"),n.classList.remove("hide")):(n.classList.add("hide"),e.classList.remove("hide"))})),t.theme=localStorage.getItem("theme")||"light"}(Q)})();