/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e={noMore:!1,useDirtyCheck:!1,preserveExistingSetters:!1},n=[],r=[],o=[],i=!1;try{i=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(t){}var a=function(t){return t&&"[object Function]"=={}.toString.call(t)},c=function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=function(t){return"[object Object]"==={}.toString.apply(t)},u=function(t,e){var n=[],r=[];if("string"!=typeof t&&"string"!=typeof e){if(c(t)&&e)for(var o=0;o<t.length;o++)void 0===e[o]&&n.push(o);else for(var o in t)t.hasOwnProperty(o)&&e&&!e.hasOwnProperty(o)&&n.push(o);if(c(e)&&t)for(var i=0;i<e.length;i++)void 0===t[i]&&r.push(i);else for(var i in e)e.hasOwnProperty(i)&&t&&!t.hasOwnProperty(i)&&r.push(i)}return{added:n,removed:r}},s=function(e){if(null==e||"object"!=t(e))return e;var n=e.constructor();for(var r in e)n[r]=e[r];return n},f=function(t,e,n){try{Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!1,value:n})}catch(r){t[e]=n}},h=function(t,e,n){r[r.length]={prop:e,object:t,orig:s(t[e]),callback:n}},p=function(t,e,n,r){if("string"!=typeof t&&(t instanceof Object||c(t))){if(c(t)){if(O(t,"__watchall__",e,n),void 0===n||n>0)for(var o=0;o<t.length;o++)p(t[o],e,n,r)}else{var a=[];for(o in t)"$val"==o||!i&&"watchers"===o||Object.prototype.hasOwnProperty.call(t,o)&&a.push(o);d(t,a,e,n,r)}r&&F(t,"$$watchlengthsubjectroot",e,n)}},d=function(t,e,n,r,o){if("string"!=typeof t&&(t instanceof Object||c(t)))for(var i=0;i<e.length;i++){var a=e[i];v(t,a,n,r,o)}},v=function(t,e,n,r,o){"string"!=typeof t&&(t instanceof Object||c(t))&&(a(t[e])||(null!=t[e]&&(void 0===r||r>0)&&p(t[e],n,void 0!==r?r-1:r),O(t,e,n,r),o&&(void 0===r||r>0)&&F(t,e,n,r)))},y=function(t,e){if(!(t instanceof String)&&(t instanceof Object||c(t)))if(c(t)){for(var n=["__watchall__"],r=0;r<t.length;r++)n.push(r);g(t,n,e)}else{var o=function(t){var n=[];for(var r in t)t.hasOwnProperty(r)&&(t[r]instanceof Object?o(t[r]):n.push(r));g(t,n,e)};o(t)}},g=function(t,e,n){for(var r in e)e.hasOwnProperty(r)&&N(t,e[r],n)},m=[],w=null;function b(){w=null;for(var t=0;t<m.length;t++)m[t]();m.length=0}var _=function(){return w||(w=setTimeout(b)),w},j=function(t){null==w&&_(),m[m.length]=t},E=function(t,e,n,r){var o=null,i=-1,a=c(t);p(t,(function(n,r,c,l){var u=_();if(i!==u&&(i=u,(o={type:"update"}).value=t,o.splices=null,j((function(){e.call(this,o),o=null}))),a&&t===this&&null!==o){if("pop"===r||"shift"===r)c=[],l=[l];else if("push"===r||"unshift"===r)c=[c],l=[];else if("splice"!==r)return;o.splices||(o.splices=[]),o.splices[o.splices.length]={index:n,deleteCount:l?l.length:0,addedCount:c?c.length:0,added:c,deleted:l}}}),1==n?void 0:0,r)},L=function(t,e,n,r,o){t&&e&&(v(t,e,(function(t,e,i,a){var u={type:"update"};u.value=i,u.oldvalue=a,(r&&l(i)||c(i))&&E(i,n,r,o),n.call(this,u)}),0),(r&&l(t[e])||c(t[e]))&&E(t[e],n,r,o))},O=function(t,n,r,o){var i=!1,a=c(t);t.watchers||(f(t,"watchers",{}),a&&k(t,(function(e,r,i,a){if(M(t,e,r,i,a),0!==o&&i&&(l(i)||c(i))){var u,s,f,h,d=t.watchers[n];for((h=t.watchers.__watchall__)&&(d=d?d.concat(h):h),f=d?d.length:0,u=0;u<f;u++)if("splice"!==r)p(i,d[u],void 0===o?o:o-1);else for(s=0;s<i.length;s++)p(i[s],d[u],void 0===o?o:o-1)}}))),t.watchers[n]||(t.watchers[n]=[],a||(i=!0));for(var u=0;u<t.watchers[n].length;u++)if(t.watchers[n][u]===r)return;if(t.watchers[n].push(r),i){var s=t[n],d=function(r,i){var a=s;if(s=r,0!==o&&t[n]&&(l(t[n])||c(t[n]))&&!t[n].watchers){var u,f=t.watchers[n].length;for(u=0;u<f;u++)p(t[n],t.watchers[n][u],void 0===o?o:o-1)}P(t,n)?T(t,n):e.noMore||(t[n]instanceof Date&&a&&r&&(a=a.valueOf(),r=r.valueOf()),a!==r&&(i?M(t,n,"set",r,a):x(t,n,"set",r,a),e.noMore=!1))};e.useDirtyCheck?h(t,n,d):function(t,n,r,o){try{var i=function(t,n){if(e.preserveExistingSetters)return Object.getOwnPropertyDescriptor(t,n).set}(t,n);Object.defineProperty(t,n,{get:r,set:function(t){o.call(this,t,!0),i&&i(t)},enumerable:!0,configurable:!0})}catch(e){try{Object.prototype.__defineGetter__.call(t,n,r),Object.prototype.__defineSetter__.call(t,n,(function(t){o.call(this,t,!0)}))}catch(e){h(t,n,o)}}}(t,n,(function(){return s}),d)}},x=function(t,e,n,r,o){if(void 0!==e){var i,a,c=t.watchers[e];(a=t.watchers.__watchall__)&&(c=c?c.concat(a):a),i=c?c.length:0;for(var l=0;l<i;l++)c[l].call(t,e,n,r,o)}else for(var e in t)t.hasOwnProperty(e)&&x(t,e,n,r,o)},S=["pop","push","reverse","shift","sort","slice","unshift","splice"],I=function(t,e,n,r){f(t,n,(function(){var o,i,a,c,l=0;if("splice"===n){var u=arguments[0],s=u+arguments[1];for(a=t.slice(u,s),i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];l=u}else i=arguments.length>0?arguments[0]:void 0;return c=e.apply(t,arguments),"slice"!==n&&("pop"===n?(a=c,l=t.length):"push"===n?l=t.length-1:"shift"===n?a=c:"unshift"!==n&&void 0===i&&(i=c),r.call(t,l,n,i,a)),c}))},k=function(t,e){if(a(e)&&t&&!(t instanceof String)&&c(t))for(var n,r=S.length;r--;)I(t,t[n=S[r]],n,e)},N=function(t,e,n){if(e){if(t.watchers&&t.watchers[e])if(void 0===n)delete t.watchers[e];else for(var r=0;r<t.watchers[e].length;r++)t.watchers[e][r]==n&&t.watchers[e].splice(r,1)}else delete t.watchers;$(t,e,n),B(t,e)},P=function(t,e){return t.watchers&&(t.watchers.__wjs_suspend__||t.watchers["__wjs_suspend__"+e])},T=function(t,e){j((function(){delete t.watchers.__wjs_suspend__,delete t.watchers["__wjs_suspend__"+e]}))},C=null,M=function(t,e,n,r,i){o[o.length]={obj:t,prop:e,mode:n,newval:r,oldval:i},null===C&&(C=setTimeout(G))},G=function(){var t=null;C=null;for(var e=0;e<o.length;e++)t=o[e],x(t.obj,t.prop,t.mode,t.newval,t.oldval);t&&(o=[],t=null)},H=function(t,e){var n,r=!0;if(t!==e)if(l(t)){for(n in t)if((i||"watchers"!==n)&&t[n]!==e[n]){r=!1;break}}else r=!1;return r},F=function(t,e,r,o){var i;i=s("$$watchlengthsubjectroot"===e?t:t[e]),n.push({obj:t,prop:e,actual:i,watcher:r,level:o})},$=function(t,e,r){for(var o=0;o<n.length;o++){var i=n[o];i.obj==t&&(e&&i.prop!=e||r&&i.watcher!=r||n.splice(o--,1))}},B=function(t,e){for(var n=0;n<r.length;n++){var o=r[n],i=o.object.watchers;o.object==t&&(!e||o.prop==e)&&i&&(!e||!i[e]||0==i[e].length)&&r.splice(n--,1)}};setInterval((function(){for(var t=0;t<n.length;t++){var e=n[t];if("$$watchlengthsubjectroot"===e.prop)((o=u(e.obj,e.actual)).added.length||o.removed.length)&&(o.added.length&&d(e.obj,o.added,e.watcher,e.level-1,!0),e.watcher.call(e.obj,"root","differentattr",o,e.actual)),e.actual=s(e.obj);else{var o;if((o=u(e.obj[e.prop],e.actual)).added.length||o.removed.length){if(o.added.length)for(var i=0;i<e.obj.watchers[e.prop].length;i++)d(e.obj[e.prop],o.added,e.obj.watchers[e.prop][i],e.level-1,!0);x(e.obj,e.prop,"differentattr",o,e.actual)}e.actual=s(e.obj[e.prop])}}var a,c;if(r.length>0)for(t=0;t<r.length;t++)c=(a=r[t]).object[a.prop],H(a.orig,c)||(a.orig=s(c),a.callback(c))}),50),e.watch=function(){a(arguments[1])?p.apply(this,arguments):c(arguments[1])?d.apply(this,arguments):v.apply(this,arguments)},e.unwatch=function(){a(arguments[1])?y.apply(this,arguments):c(arguments[1])?g.apply(this,arguments):N.apply(this,arguments)},e.callWatchers=x,e.suspend=function(t,e){if(t.watchers){var n="__wjs_suspend__"+(void 0!==e?e:"");t.watchers[n]=!0}},e.onChange=function(){(a(arguments[2])?L:E).apply(this,arguments)};const D=e;D.watch;var A=function(t,e){var n=t.notes;n=n.filter((function(t){return t.title!==e.title||t.content!==e.content})),t.notes=n},J=function(t,e,n){var r=document.getElementById("notesContainer"),o=function(t,e){var n=document.createElement("div");n.className="pb-3";var r=document.createElement("h5");r.className="card-title font-weight-bold",r.innerText=t,n.appendChild(r);var o=document.createElement("pre");if(o.className="card-text m-0",e.length>150){o.innerHTML=e.substring(0,150)+"...";var i=function(t,e){var n=document.createElement("button");n.innerText="Развернуть",n.className="btn btn-link align-center ps-0";var r=!1;return n.addEventListener("click",(function(){r?(t.innerHTML=e.substring(0,150)+"...",n.innerText="Развернуть"):(t.innerHTML=e,n.innerText="Скрыть"),r=!r})),n}(o,e);n.appendChild(o),n.appendChild(i)}else o.innerHTML=e,n.appendChild(o);return n}(e,n),i=function(t,e,n){var r=document.createElement("div");r.className="d-flex row m-0";var o=document.createElement("button");o.className="btn btn-primary rounded-right-0 col-6",o.innerHTML='<i class="bi bi-pencil"></i>',r.appendChild(o),o.addEventListener("click",(function(){t.titleInput=e,t.noteInput=n,A(t,{title:e,content:n})}));var i=document.createElement("button");return i.className="btn btn-danger rounded-left-0 col-6",i.innerHTML='<i class="bi bi-trash"></i>',r.appendChild(i),i.addEventListener("click",(function(){confirm('Вы точно хотите удалить заметку "'.concat(e,'"?'))&&A(t,{title:e,content:n})})),r}(t,e,n),a=document.createElement("div");a.className="col-md-6 col-xl-4 mb-4";var c=document.createElement("div");c.className="card p-3 h-100 justify-content-between",c.appendChild(o),c.appendChild(i),a.appendChild(c),r.prepend(a)},q=function(t){var e=document.getElementById("notesContainer");e.innerHTML="";var n=document.createElement("div");n.className="alert alert-danger col-12",n.textContent=t,e.appendChild(n)};function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function W(){W=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function g(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,j=_&&_(_(P([])));j&&j!==n&&r.call(j,a)&&(b=j);var E=w.prototype=g.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,c){var l=f(t[o],t,i);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Y(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=S(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function S(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Y(e)+" is not iterable")}return m.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},L(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(E),u(E,l,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function z(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}var K,Q=function(){var t,e=(t=W().mark((function t(e){var n;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Network error");case 5:return t.abrupt("return",n.json());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){z(i,r,o,a,c,"next",t)}function c(t){z(i,r,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),R=function(t){Q(t.notes).then((function(t){console.log("Заметки успешно отправлены на сервер:",t)})).catch((function(t){q("Ошибка при отправки заметок на сервер: ".concat(t)),console.log("Ошибка при отправки заметок на сервер:",t)}))},U=function(t){localStorage.setItem("notes",JSON.stringify(t))},V=D.watch,X=D.watch;(function(t){var e=document.getElementById("noteForm"),n=document.getElementById("noteTitle"),r=document.getElementById("noteInput");e.addEventListener("submit",(function(e){e.preventDefault();var o=n.value,i=r.value;t.notes.push({title:o,content:i}),U(t.notes),J(t,o,i),R(t.notes),t.titleInput="",t.noteInput=""})),n.addEventListener("input",(function(){t.titleInput=n.value})),r.addEventListener("input",(function(){t.noteInput=r.value})),X(t,"titleInput",(function(){n.value=t.titleInput})),X(t,"noteInput",(function(){r.value=t.noteInput})),X(t,"notes",(function(){U(t.notes),R(t.notes),function(t){document.getElementById("notesContainer").innerHTML="",t.notes.forEach((function(e){J(t,e.title,e.content)}))}(t)}))})(K={notes:[],theme:"light",titleInput:"",noteInput:""}),K.notes=JSON.parse(localStorage.getItem("notes"))||[],function(t){Q(t.notes).then((function(e){t.notes=JSON.parse(e.data),console.log("Заметки успешно получены с сервера:",e)})).catch((function(t){q("Ошибка при получении заметок с сервера: ".concat(t)),console.log("Ошибка при получении заметок с сервера:",t)}))}(K),function(t){var e=document.querySelector(".btn-light"),n=document.querySelector(".btn-dark");e.addEventListener("click",(function(){t.theme="light"})),n.addEventListener("click",(function(){t.theme="dark"})),V(t,"theme",(function(){var r;r=t.theme,localStorage.setItem("theme",r),document.documentElement.setAttribute("data-bs-theme",t.theme),"light"===t.theme?(e.classList.add("hide"),n.classList.remove("hide")):(n.classList.add("hide"),e.classList.remove("hide"))})),t.theme=localStorage.getItem("theme")||"light"}(K)})();